# CLAUDE.md

æœ¬æ–‡ä»¶ä¸º Claude Code (claude.ai/code) åœ¨æ­¤ä»£ç ä»“åº“ä¸­å·¥ä½œæ—¶æä¾›æŒ‡å¯¼ã€‚

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Hugo é™æ€ç½‘ç«™ç”Ÿæˆå™¨æ„å»ºçš„ä¸ªäººåšå®¢ï¼Œä½¿ç”¨ PaperMod ä¸»é¢˜ã€‚åšå®¢åä¸º"ä»£ç ä¸è¿œæ–¹"ï¼ŒåŒ…å«æŠ€æœ¯æ–‡ç« ã€è¯»ä¹¦ç¬”è®°å’Œä¸ªäººç”Ÿæ´»æ–‡ç« ï¼Œå†…å®¹ä»¥ä¸­æ–‡æ’°å†™ã€‚

ç½‘ç«™åœ°å€ï¼šhttps://www.liuchang0812.com/

## Hugo å‘½ä»¤

**æ„å»ºç½‘ç«™ï¼š**
```bash
hugo --minify
```

**å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼š**
```bash
hugo server
```

**å¯åŠ¨å¹¶åŒ…å«è‰ç¨¿ï¼š**
```bash
hugo server -D
```

## å†…å®¹ç»“æ„

å†…å®¹ç»„ç»‡åœ¨ `content/` ç›®å½•ä¸‹ï¼š
- `content/posts/tech/` - æŠ€æœ¯æ–‡ç« ï¼ŒåŒ…å«ä»¥ä¸‹å­ç›®å½•ï¼š
  - `golang/` - Go è¯­è¨€ç›¸å…³æ–‡ç« 
  - `os/` - æ“ä½œç³»ç»Ÿç›¸å…³ä¸»é¢˜ï¼ˆcgroupã€libcoã€paxos ç­‰ï¼‰
  - `leetcode/` - ç®—æ³•å’Œ LeetCode é—®é¢˜
  - `paper/` - è®ºæ–‡é˜…è¯»ç¬”è®°ï¼ˆGFSã€Paxosã€Raftï¼‰
  - `ai/` - AI/ML ä¸»é¢˜ï¼ˆword2vecã€autogradï¼‰
  - `read-code-vscode/` - ä»£ç é˜…è¯»ç¬”è®°
- `content/posts/read/` - è¯»ä¹¦ç¬”è®°å’Œä¹¦è¯„
- `content/posts/life/` - ä¸ªäººç”Ÿæ´»æ–‡ç« 
- `content/about/` - å…³äºé¡µé¢
- `content/archives.md` - å½’æ¡£é¡µé¢
- `content/search.md` - æœç´¢é¡µé¢

### åˆ›å»ºæ–°æ–‡ç« 

ä½¿ç”¨ Hugo çš„ archetype ç³»ç»Ÿåˆ›å»ºå¸¦æœ‰æ­£ç¡® frontmatter çš„æ–°æ–‡ç« ï¼š

```bash
hugo new content/posts/tech/your-post-title.md
hugo new content/posts/tech/golang/your-post-title.md
hugo new content/posts/read/your-post-title.md
hugo new content/posts/life/your-post-title.md
```

archetype æ¨¡æ¿ä½äº `archetypes/default.md`ï¼ŒåŒ…å«äº†å¤§éƒ¨åˆ†å¿…è¦çš„ frontmatter å­—æ®µã€‚**é‡è¦æç¤ºï¼š** archetype ä¸åŒ…å« `summary` å­—æ®µ - ä½ å¿…é¡»æ‰‹åŠ¨æ·»åŠ æ­¤å­—æ®µï¼Œå› ä¸ºå®ƒå¯¹è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒè‡³å…³é‡è¦ã€‚

### æ–‡ç«  Frontmatter

æ‰€æœ‰æ–‡ç« éƒ½åº”åŒ…å«ä»¥ä¸‹ frontmatter å­—æ®µï¼š
- `title` - æ–‡ç« æ ‡é¢˜
- `date` - å‘å¸ƒæ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYY-MM-DDTHH:MM:SS+08:00ï¼‰
- `lastmod` - æœ€åä¿®æ”¹æ—¥æœŸ
- `author` - åº”è®¾ç½®ä¸º ["Chang Liu"]
- `summary` - ç”¨äºé¢„è§ˆçš„ç®€çŸ­æ‘˜è¦ï¼ˆ**å¿…éœ€** - archetype ä¸­ä¸åŒ…å«ï¼Œå¿…é¡»æ‰‹åŠ¨æ·»åŠ ï¼‰
- `categories` - ä¸»è¦åˆ†ç±»ï¼Œé€šå¸¸æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š"tech"ã€"read"ã€"life"
- `tags` - å…·ä½“æ ‡ç­¾åˆ—è¡¨ï¼ˆä¾‹å¦‚ï¼šgolangã€leveldbã€paxosï¼‰
- `draft` - å‘å¸ƒçš„æ–‡ç« è®¾ç½®ä¸º false
- `showToc` - æ˜¾ç¤ºç›®å½•ï¼ˆé»˜è®¤ trueï¼‰
- `TocOpen` - è‡ªåŠ¨å±•å¼€ç›®å½•ï¼ˆæ ¹æ® config.yaml é»˜è®¤ä¸º falseï¼‰

## é…ç½®

ç½‘ç«™é…ç½®ä½äº `config.yaml`ï¼š
- ä¸»é¢˜ï¼šPaperModï¼ˆä½œä¸º git submodule å®‰è£…åœ¨ `themes/PaperMod`ï¼‰
- è¯­è¨€ï¼šä¸­æ–‡ï¼ˆzh-cnï¼‰
- å¯ç”¨çš„åŠŸèƒ½ï¼šä»£ç å¤åˆ¶æŒ‰é’®ã€ç›®å½•ã€é˜…è¯»æ—¶é—´ã€æœç´¢ï¼ˆJSON è¾“å‡ºï¼‰ã€emoji æ”¯æŒ
- èµ„æº CDN é…ç½®ï¼šjsdelivr CDNï¼ˆæŒ‡å‘ GitHub ä»“åº“å†…å®¹ï¼‰
- è¯­æ³•é«˜äº®ï¼šå¯ç”¨ä»£ç å›´æ çš„ Darcula æ ·å¼
- èœå•ç»“æ„ï¼ˆæŒ‰æƒé‡æ’åºï¼‰ï¼šğŸ“šæ–‡ç« ã€ğŸ”æœç´¢ã€â±æ—¶é—´è½´ã€ğŸ™‹ğŸ»â€â™‚ï¸å…³äº

## éƒ¨ç½²

ç½‘ç«™åœ¨æ¨é€åˆ° master åˆ†æ”¯æ—¶é€šè¿‡ GitHub Actions è‡ªåŠ¨éƒ¨ç½²ã€‚

å·¥ä½œæµæ–‡ä»¶ï¼š`.github/workflows/gh-pages.yml`
- Hugo ç‰ˆæœ¬ï¼š0.152.2ï¼ˆextendedï¼‰
- æ„å»ºåˆ° `./public` ç›®å½•
- ä½¿ç”¨ peaceiris/actions-gh-pages éƒ¨ç½²åˆ° GitHub Pages

**æ‰‹åŠ¨æ„å»ºå’Œéƒ¨ç½²ï¼š**
```bash
hugo --minify
# è¾“å‡ºåœ¨ ./public ç›®å½•
```

## ä¸»é¢˜è‡ªå®šä¹‰

PaperMod ä¸»é¢˜ä½œä¸º git submodule æ·»åŠ ã€‚æ›´æ–°ä¸»é¢˜ï¼š

```bash
git submodule update --remote themes/PaperMod
```

ä¸è¦ç›´æ¥ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶ã€‚å¦‚æœéœ€è¦è‡ªå®šä¹‰ï¼Œè¯·ä½¿ç”¨ Hugo çš„è¦†ç›–æœºåˆ¶ã€‚

## é™æ€èµ„æº

é™æ€æ–‡ä»¶æ”¾åœ¨ `static/` ç›®å½•ï¼š
- Favicons å’Œåº”ç”¨å›¾æ ‡
- è‡ªå®šä¹‰åŸŸåçš„ CNAME æ–‡ä»¶
- é¢å¤–çš„ CSS/JSï¼ˆgitalk è¯„è®ºç³»ç»Ÿï¼‰
- æ–‡ç« ä¸­ä½¿ç”¨çš„å›¾ç‰‡å¯ä»¥æ”¾åœ¨ `static/` æˆ–ä¸æ–‡ç« æ”¾åœ¨åŒä¸€ä½ç½®

## å›¾ç‰‡å¤„ç†

æ–‡ç« ä¸­å¼•ç”¨å›¾ç‰‡çš„æ–¹å¼ï¼š
- ä» static çš„ç»å¯¹è·¯å¾„ï¼š`/path/to/image.png`
- ç›¸å¯¹è·¯å¾„ï¼š`./image.png`ï¼ˆä¸æ–‡ç« æ”¾åœ¨åŒä¸€ä½ç½®æ—¶ï¼‰
- CDN è·¯å¾„é€šè¿‡ config.yaml è‡ªåŠ¨é…ç½®

## å†…å®¹æŒ‡å—

åˆ›å»ºæˆ–ä¿®æ”¹æ–‡ç« æ—¶ï¼š
1. æ‰€æœ‰æ–‡ç« å¿…é¡»åŒ…å« `summary` å­—æ®µç”¨äºé¢„è§ˆ
2. ä½¿ç”¨ç»Ÿä¸€çš„æ—¥æœŸæ ¼å¼ï¼š`YYYY-MM-DD`
3. è¯»ä¹¦ç¬”è®°éµå¾ªå‘½åè§„èŒƒï¼š
   - æœˆåº¦åˆé›†ï¼š`YYYY-MM-reading.md`
   - å•æœ¬ä¹¦ç±ï¼š`YYYY-MM-ä¹¦å.md`
4. æŠ€æœ¯æ–‡ç« åº”åŒ…å«é€‚å½“çš„æ ‡ç­¾ï¼ˆä¾‹å¦‚ï¼šleveldbã€golangã€paxosï¼‰
5. ä»£ç å—åº”æŒ‡å®šè¯­è¨€ä»¥å¯ç”¨è¯­æ³•é«˜äº®
6. æ–‡ç« ä½¿ç”¨ä¸­æ–‡æ’°å†™ï¼›ä¿æŒä¸€è‡´çš„è¯­æ°”å’Œæœ¯è¯­

## Git å·¥ä½œæµ

- ä¸»åˆ†æ”¯ï¼š`master`
- æäº¤ä¼šè‡ªåŠ¨è§¦å‘éƒ¨ç½²
- ä¸»é¢˜æ˜¯ git submodule - å…‹éš†åä½¿ç”¨ `git submodule update --init --recursive`
